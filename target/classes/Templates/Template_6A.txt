#TEMPLATE 6A
SELECT ?ticker ?resultadoCalculado
WHERE {
    #FILTER_BLOCK_ENTIDADE#
    
    ?SO1 P8 ?ticker .
    
    ?SO1 P3 ?negociadoNode .
    ?negociadoNode P5 ?S2 .
    ?S2 P6 "#DATA#"^^xsd:date .
    
    ?negociadoNode b3:precoMaximo ?maximo .
    ?negociadoNode b3:precoMinimo ?minimo .
    ?negociadoNode b3:precoAbertura ?abertura .
    ?negociadoNode b3:precoFechamento ?fechamento .
    
    FILTER(?abertura > 0)
    BIND((#CALCULO#) AS ?resultadoCalculado)
}
LIMIT 1